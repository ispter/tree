<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <title>太庙神柏</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="header-fixed">
    <div id="menu-btn" class="menu-btn-fixed">
        <div id="menu-icon" class="menu-icon">
        <span class="bar margin-bottom"></span>
        <span class="bar"></span>
        <span class="bar margin-top"></span>
      </div>
    </div>
    太庙神柏
    <div id="menu-mask" class="menu-mask"></div>
    <nav id="dropdown-menu" class="fixed">
      <div style="display:flex;align-items:center;padding:16px 0 0 0;">
        <img src="images/icon.png" alt="icon" class="icon-img-40">
        <div style="flex:1;min-width:0;">
          <div style="color:#1F2937;font-size:15px;font-weight:500;line-height:1.5;">每一棵古树名木都是隐于京师的见证者</div>
          <div style="color:#6B7280;font-size:14px;line-height:1.5;margin-top:0;">事往凭谁问，无恙是朱颜。</div>
        </div>
      </div>
      <a href="#home" dropdown-link class="home-link">
        <span class="icon-wrap"><img src="images/icon_01.png" alt="首页" style="width:24px;height:24px;object-fit:contain;display:block;"></span>
        <span>首页</span>
      </a>
      <a href="#special" dropdown-link>
        <span class="icon-wrap"><img src="images/icon_02.png" alt="古树专题" style="width:24px;height:24px;object-fit:contain;display:block;"></span>
        <span>古树专题</span>
      </a>
      <a href="#tour" dropdown-link>
        <span class="icon-wrap"><img src="images/icon_03.png" alt="游览推荐" style="width:24px;height:24px;object-fit:contain;display:block;"></span>
        <span>游览推荐</span>
      </a>
      <a href="#wallpaper" dropdown-link>
        <span class="icon-wrap"><img src="images/icon_04.png" alt="精美壁纸" style="width:24px;height:24px;object-fit:contain;display:block;"></span>
        <span>精美壁纸</span>
      </a>
      <a href="#protect" dropdown-link>
        <span class="icon-wrap"><img src="images/icon_05.png" alt="古树保护" style="width:24px;height:24px;object-fit:contain;display:block;"></span>
        <span>古树保护</span>
      </a>
      <a href="#collect" dropdown-link>
        <span class="icon-wrap"><img src="images/icon_06.png" alt="古树收藏" style="width:24px;height:24px;object-fit:contain;display:block;"></span>
        <span>古树收藏</span>
      </a>
      <a href="#donate" dropdown-link>
        <span class="icon-wrap"><img src="images/icon_07.png" alt="认养募捐" style="width:24px;height:24px;object-fit:contain;display:block;"></span>
        <span>认养募捐</span>
      </a>
    </nav>
  </header>
  <main class="mg-main" style="max-width:375px;margin:0 auto;background:#F9FAFB;padding-bottom:32px;min-height:calc(100vh - 52px);">
    <section style="padding:24px 16px 0 16px;">
      <div id="carousel" style="margin-bottom:24px;position:relative;overflow:hidden;height:220px;">
        <img id="carousel-img" src="images/miyun_01.jpg" alt="太庙神柏" style="width:100%;height:100%;object-fit:cover;border-radius:12px;box-shadow:0 4px 24px rgba(0,0,0,0.12);background:#fff;transition:opacity 0.3s;">
        <div id="carousel-indicator" style="position:absolute;bottom:12px;right:12px;background:rgba(0,0,0,0.5);color:#fff;font-size:14px;border-radius:8px;padding:4px 8px;">1/2</div>
      </div>
      <div style="display:flex;align-items:center;justify-content:space-between;">
        <div>
          <h2 style="font-family:Roboto,sans-serif;font-size:24px;font-weight:bold;color:#111827;line-height:32px;margin:0;">太庙神柏</h2>
          <div style="margin-top:8px;background:rgba(139,168,136,0.1);color:#8BA888;font-size:14px;line-height:20px;border-radius:8px;padding:4px 8px;display:inline-block;">#110101A00968</div>
        </div>
        <button id="fav-btn" style="width:40px;height:40px;background:rgba(44,85,48,0.1);border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:transform 0.15s;">
          <svg id="fav-heart" width="20" height="20" viewBox="0 0 20 20" fill="#88898A" xmlns="http://www.w3.org/2000/svg" style="transition:fill 0.2s;">
            <path d="M10 18s-5.5-4.2-7.5-6.6C-0.5 7.2 1.5 3 5.5 3c1.7 0 3.1 0.94 4 2.02C10.9 3.94 12.3 3 14 3c4 0 6 4.2 3.5 8.4C15.5 13.8 10 18 10 18z"/>
          </svg>
        </button>
      </div>
      <div style="display:flex;align-items:center;margin-top:16px;">
        <img src="images/type.png" alt="类型" style="width:16px;height:16px;margin-right:8px;object-fit:contain;vertical-align:middle;display:block;">
        <span style="font-size:14px;color:#374151;flex:1;text-align:left;">侧柏</span>
      </div>
      <div style="display:flex;align-items:center;margin-top:8px;">
        <img src="images/location.png" alt="位置" style="width:16px;height:16px;margin-right:8px;object-fit:contain;vertical-align:middle;display:block;">
        <span style="font-size:14px;color:#374151;flex:1;text-align:left;">劳动人民文化宫南门北约百米</span>
      </div>
      <div style="display:flex;align-items:center;margin-top:8px;">
        <img src="images/time.png" alt="年代" style="width:16px;height:16px;margin-right:8px;object-fit:contain;vertical-align:middle;display:block;">
        <span style="font-size:14px;color:#374151;flex:1;text-align:left;">约600 年</span>
      </div>
      <div style="margin-top:24px;background:#fff;border-radius:12px;box-shadow:0 4px 6px -4px rgba(43,174,23,0.2),0 10px 15px -3px rgba(43,174,23,0.2);padding:16px;">
        <h3 style="font-size:18px;font-family:Roboto,sans-serif;font-weight:500;color:#111827;line-height:28px;margin:0 0 8px 0;">古树故事</h3>
        <p style="font-size:14px;color:#374151;line-height:22.75px;margin:0;">　　相传为太庙始建时，明成祖朱棣手植的第一棵树。当初太庙遍植新柏，连种三次均未成活，一工匠献计换上沃土，并请朱棣首栽此树，果然成活，遂称为“神柏”。后代皇帝、亲贵祭祖至此须下轿、下马，以示尊重。</p>
      </div>
      <button style="margin-top:32px;width:100%;height:52px;background:#2BAE17;border:none;border-radius:16px;color:#fff;font-size:14px;font-family:Roboto,sans-serif;font-weight:500;box-shadow:0 4px 6px -4px rgba(43,174,23,0.2),0 10px 15px -3px rgba(43,174,23,0.2);display:flex;align-items:center;justify-content:center;line-height:1;">
        <span style="display:inline-flex;align-items:center;justify-content:center;gap:8px;">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" style="transform:rotate(180deg);display:block;vertical-align:middle;margin-bottom:2px;"><path d="M5.82031 16.2109L5.42969 15L2.5 15Q1.44531 14.9609 0.742188 14.2578Q0.0390625 13.5547 0 12.5L0 2.5Q0.0390625 1.44531 0.742188 0.742188Q1.44531 0.0390625 2.5 0L17.5 0Q18.5547 0.0390625 19.2578 0.742188Q19.9609 1.44531 20 2.5L20 12.5Q19.9609 13.5547 19.2578 14.2578Q18.5547 14.9609 17.5 15L14.5703 15L14.1797 16.2109Q13.7109 17.4219 12.3828 17.5L7.61719 17.5Q6.28906 17.4219 5.82031 16.2109ZM10 11.25Q11.0156 11.25 11.875 10.7422Q12.7344 10.2344 13.2422 9.375Q13.75 8.47656 13.75 7.5Q13.75 6.52344 13.2422 5.625Q12.7344 4.76562 11.875 4.25781Q11.0156 3.75 10 3.75Q8.98438 3.75 8.125 4.25781Q7.26562 4.76562 6.75781 5.625Q6.25 6.52344 6.25 7.5Q6.25 8.47656 6.75781 9.375Q7.26562 10.2344 8.125 10.7422Q8.98438 11.25 10 11.25Z" fill="#fff"/></svg>
          <span>合影留念</span>
        </span>
      </button>
    </section>
  </main>
  <script>
    // 汉堡菜单交互
    const menuBtn = document.getElementById('menu-btn');
    const menuMask = document.getElementById('menu-mask');
    const dropdownMenu = document.getElementById('dropdown-menu');
    const menuIcon = document.getElementById('menu-icon');
    const bars = menuIcon.querySelectorAll('.bar');
    let menuOpen = false;
    function openMenu() {
      dropdownMenu.classList.add('active');
      menuMask.style.display = 'block';
      document.body.style.overflow = 'hidden';
      bars[0].style.transform = 'translateY(14px) rotate(45deg)';
      bars[0].style.setProperty('background-color', '#2BAE17', 'important');
      bars[0].style.height = '6px';
      bars[0].style.boxShadow = '0 2px 8px rgba(43,174,23,0.18)';
      bars[1].style.opacity = '0';
      bars[2].style.transform = 'translateY(-14px) rotate(-45deg)';
      bars[2].style.setProperty('background-color', '#2BAE17', 'important');
      bars[2].style.height = '6px';
      bars[2].style.boxShadow = '0 2px 8px rgba(43,174,23,0.18)';
      menuOpen = true;
    }
    function closeMenu() {
      dropdownMenu.classList.remove('active');
      menuMask.style.display = 'none';
      document.body.style.overflow = '';
      bars[0].style.transform = '';
      bars[0].style.setProperty('background-color', '#fff', 'important');
      bars[0].style.height = '4px';
      bars[0].style.boxShadow = '0 1px 4px rgba(0,0,0,0.12)';
      bars[1].style.opacity = '1';
      bars[2].style.transform = '';
      bars[2].style.setProperty('background-color', '#fff', 'important');
      bars[2].style.height = '4px';
      bars[2].style.boxShadow = '0 1px 4px rgba(0,0,0,0.12)';
      menuOpen = false;
    }
    menuBtn.onclick = function(e) {
      e.stopPropagation();
      if (!menuOpen) {
        openMenu();
      } else {
        closeMenu();
      }
    };
    menuMask.onclick = function(e) { e.stopPropagation(); closeMenu(); };
    dropdownMenu.onclick = function(e) { e.stopPropagation(); };

    // 轮播图功能
    (function() {
      const images = ['images/miyun_01.jpg', 'images/miyun_01.png'];
      let current = 0;
      const img = document.getElementById('carousel-img');
      const indicator = document.getElementById('carousel-indicator');
      const carousel = document.getElementById('carousel');
      let timer = null;
      let startX = 0;
      let moveX = 0;
      let isTouching = false;
      function updateCarousel(idx) {
        img.style.opacity = 0.3;
        setTimeout(() => {
          img.src = images[idx];
          img.style.opacity = 1;
          indicator.textContent = (idx+1) + '/' + images.length;
        }, 150);
      }
      function startAutoPlay() {
        if (timer) clearInterval(timer);
        timer = setInterval(() => {
          current = (current + 1) % images.length;
          updateCarousel(current);
        }, 3000);
      }
      img.onclick = function() {
        current = (current + 1) % images.length;
        updateCarousel(current);
        startAutoPlay();
      };
      // 手指滑动切换
      carousel.addEventListener('touchstart', function(e) {
        if (e.touches.length === 1) {
          isTouching = true;
          startX = e.touches[0].clientX;
        }
      });
      carousel.addEventListener('touchmove', function(e) {
        if (!isTouching) return;
        moveX = e.touches[0].clientX;
      });
      carousel.addEventListener('touchend', function(e) {
        if (!isTouching) return;
        let deltaX = moveX - startX;
        if (Math.abs(deltaX) > 40) {
          if (deltaX > 0) {
            // 向右滑，上一张
            current = (current - 1 + images.length) % images.length;
          } else {
            // 向左滑，下一张
            current = (current + 1) % images.length;
          }
          updateCarousel(current);
          startAutoPlay();
        }
        isTouching = false;
        startX = 0;
        moveX = 0;
      });
      startAutoPlay();
    })();

    // 收藏按钮动态效果
    (function() {
      const favBtn = document.getElementById('fav-btn');
      const favHeart = document.getElementById('fav-heart');
      let isFav = false;
      favBtn.addEventListener('click', function(e) {
        isFav = !isFav;
        favHeart.setAttribute('fill', isFav ? '#FF9D41' : '#88898A');
        favBtn.style.transform = 'scale(1.2)';
        setTimeout(()=>{ favBtn.style.transform = 'scale(1)'; }, 150);
      });
    })();
  </script>
</body>
</html>
