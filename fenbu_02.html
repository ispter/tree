<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <title>太庙神柏</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container" style="padding-top:56px;">
    <section style="padding:24px 16px 0 16px;">
      <div id="carousel" style="margin-bottom:24px;position:relative;overflow:hidden;height:220px;">
        <img id="carousel-img" src="images/miyun_01.jpg" alt="太庙神柏" style="width:100%;height:100%;object-fit:cover;border-radius:12px;box-shadow:0 4px 24px rgba(0,0,0,0.12);background:#fff;transition:opacity 0.3s;">
        <div id="carousel-indicator" style="position:absolute;bottom:12px;right:12px;background:rgba(0,0,0,0.5);color:#fff;font-size:14px;border-radius:8px;padding:4px 8px;">1/2</div>
      </div>
      <div style="display:flex;align-items:center;justify-content:space-between;">
        <div>
          <h2 style="font-family:Roboto,sans-serif;font-size:24px;font-weight:bold;color:#111827;line-height:32px;margin:0;">太庙神柏</h2>
          <div style="margin-top:8px;background:rgba(139,168,136,0.1);color:#8BA888;font-size:14px;line-height:20px;border-radius:8px;padding:4px 8px;display:inline-block;">#110101A00968</div>
        </div>
        <button id="fav-btn" style="width:40px;height:40px;background:rgba(44,85,48,0.1);border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:transform 0.15s;">
          <svg id="fav-heart" width="20" height="20" viewBox="0 0 20 20" fill="#88898A" xmlns="http://www.w3.org/2000/svg" style="transition:fill 0.2s;">
            <path d="M10 18s-5.5-4.2-7.5-6.6C-0.5 7.2 1.5 3 5.5 3c1.7 0 3.1 0.94 4 2.02C10.9 3.94 12.3 3 14 3c4 0 6 4.2 3.5 8.4C15.5 13.8 10 18 10 18z"/>
          </svg>
        </button>
      </div>
      <div style="display:flex;align-items:center;margin-top:16px;">
        <img src="images/type.png" alt="类型" style="width:16px;height:16px;margin-right:8px;object-fit:contain;vertical-align:middle;display:block;">
        <span style="font-size:14px;color:#374151;flex:1;text-align:left;">侧柏</span>
      </div>
      <div style="display:flex;align-items:center;margin-top:8px;">
        <img src="images/location.png" alt="位置" style="width:16px;height:16px;margin-right:8px;object-fit:contain;vertical-align:middle;display:block;">
        <span style="font-size:14px;color:#374151;flex:1;text-align:left;">劳动人民文化宫南门北约百米</span>
      </div>
      <div style="display:flex;align-items:center;margin-top:8px;">
        <img src="images/time.png" alt="年代" style="width:16px;height:16px;margin-right:8px;object-fit:contain;vertical-align:middle;display:block;">
        <span style="font-size:14px;color:#374151;flex:1;text-align:left;">约600 年</span>
      </div>
      <div style="margin-top:24px;background:#fff;border-radius:12px;box-shadow:0 4px 6px -4px rgba(43,174,23,0.2),0 10px 15px -3px rgba(43,174,23,0.2);padding:16px;">
        <h3 style="font-size:18px;font-family:Roboto,sans-serif;font-weight:500;color:#111827;line-height:28px;margin:0 0 8px 0;">古树故事</h3>
        <p style="font-size:14px;color:#374151;line-height:22.75px;margin:0;">　　相传为太庙始建时，明成祖朱棣手植的第一棵树。当初太庙遍植新柏，连种三次均未成活，一工匠献计换上沃土，并请朱棣首栽此树，果然成活，遂称为“神柏”。后代皇帝、亲贵祭祖至此须下轿、下马，以示尊重。</p>
      </div>
      <button id="photo-btn" style="margin-top:32px;width:100%;height:52px;background:#2BAE17;border:none;border-radius:16px;color:#fff;font-size:14px;font-family:Roboto,sans-serif;font-weight:500;box-shadow:0 4px 6px -4px rgba(43,174,23,0.2),0 10px 15px -3px rgba(43,174,23,0.2);display:flex;align-items:center;justify-content:center;line-height:1;">
        <span style="display:inline-flex;align-items:center;justify-content:center;gap:8px;">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" style="transform:rotate(180deg);display:block;vertical-align:middle;margin-bottom:2px;"><path d="M5.82031 16.2109L5.42969 15L2.5 15Q1.44531 14.9609 0.742188 14.2578Q0.0390625 13.5547 0 12.5L0 2.5Q0.0390625 1.44531 0.742188 0.742188Q1.44531 0.0390625 2.5 0L17.5 0Q18.5547 0.0390625 19.2578 0.742188Q19.9609 1.44531 20 2.5L20 12.5Q19.9609 13.5547 19.2578 14.2578Q18.5547 14.9609 17.5 15L14.5703 15L14.1797 16.2109Q13.7109 17.4219 12.3828 17.5L7.61719 17.5Q6.28906 17.4219 5.82031 16.2109ZM10 11.25Q11.0156 11.25 11.875 10.7422Q12.7344 10.2344 13.2422 9.375Q13.75 8.47656 13.75 7.5Q13.75 6.52344 13.2422 5.625Q12.7344 4.76562 11.875 4.25781Q11.0156 3.75 10 3.75Q8.98438 3.75 8.125 4.25781Q7.26562 4.76562 6.75781 5.625Q6.25 6.52344 6.25 7.5Q6.25 8.47656 6.75781 9.375Q7.26562 10.2344 8.125 10.7422Q8.98438 11.25 10 11.25Z" fill="#fff"/></svg>
          <span>合影留念</span>
        </span>
      </button>
    </section>
  </div>
  <script>
    // 轮播图功能
    (function() {
      const images = ['images/miyun_01.jpg', 'images/miyun_01.png'];
      let current = 0;
      const img = document.getElementById('carousel-img');
      const indicator = document.getElementById('carousel-indicator');
      const carousel = document.getElementById('carousel');
      let timer = null;
      let startX = 0;
      let moveX = 0;
      let isTouching = false;
      function updateCarousel(idx) {
        img.style.opacity = 0.3;
        setTimeout(() => {
          img.src = images[idx];
          img.style.opacity = 1;
          indicator.textContent = (idx+1) + '/' + images.length;
        }, 150);
      }
      function startAutoPlay() {
        if (timer) clearInterval(timer);
        timer = setInterval(() => {
          current = (current + 1) % images.length;
          updateCarousel(current);
        }, 3000);
      }
      img.onclick = function() {
        current = (current + 1) % images.length;
        updateCarousel(current);
        startAutoPlay();
      };
      // 手指滑动切换
      carousel.addEventListener('touchstart', function(e) {
        if (e.touches.length === 1) {
          isTouching = true;
          startX = e.touches[0].clientX;
        }
      });
      carousel.addEventListener('touchmove', function(e) {
        if (!isTouching) return;
        moveX = e.touches[0].clientX;
      });
      carousel.addEventListener('touchend', function(e) {
        if (!isTouching) return;
        let deltaX = moveX - startX;
        if (Math.abs(deltaX) > 40) {
          if (deltaX > 0) {
            // 向右滑，上一张
            current = (current - 1 + images.length) % images.length;
          } else {
            // 向左滑，下一张
            current = (current + 1) % images.length;
          }
          updateCarousel(current);
          startAutoPlay();
        }
        isTouching = false;
        startX = 0;
        moveX = 0;
      });
      startAutoPlay();
    })();

    // 收藏按钮动态效果
    (function() {
      const favBtn = document.getElementById('fav-btn');
      const favHeart = document.getElementById('fav-heart');
      let isFav = false;
      favBtn.addEventListener('click', function(e) {
        isFav = !isFav;
        favHeart.setAttribute('fill', isFav ? '#FF9D41' : '#88898A');
        favBtn.style.transform = 'scale(1.2)';
        setTimeout(()=>{ favBtn.style.transform = 'scale(1)'; }, 150);
      });
    })();
    // 合影留念按钮跳转
    (function() {
      const photoBtn = document.getElementById('photo-btn');
      if (photoBtn) {
        photoBtn.addEventListener('click', function() {
          window.location.href = 'fenbu_03.html';
        });
      }
    })();
  </script>
</body>
</html>
